{{- define "main" }}
{{- if .Content }}
<div class="article">
  <div class="article-content">
    {{ .Content }}
  </div>
</div>
{{- end }}

<div class="list">
  {{- if not .Content }}
  <header class="article-header">
    <h1 class="article-title">{{ .Site.Title }}</h1>
    {{- if .Site.Params.description }}
    <p>{{ .Site.Params.description }}</p>
    {{- end }}
  </header>
  {{- end }}

  {{- $pages := where .Site.RegularPages "Type" "in" .Site.Params.mainSections }}
  {{- range first 10 $pages }}
  <article class="list-item">
    <h2 class="list-item-title">
      <a href="{{ .Permalink }}">{{ .Title }}</a>
    </h2>
    <div class="list-item-meta">
      {{- if .Date }}
      <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "2006-01-02" }}</time>
      {{- end }}
      {{- if .ReadingTime }}
      <span> â€¢ {{ .ReadingTime }} min read</span>
      {{- end }}
    </div>
    {{- if .Summary }}
    <div class="list-item-summary">
      {{ .Summary }}
    </div>
    {{- end }}
  </article>
  {{- end }}
</div>
{{- end }}
