// Dark mode styles
// Automatic switching via prefers-color-scheme media query

@media (prefers-color-scheme: dark) {
  :root {
    // Dark mode color overrides
    --bg-color: #{$dark-bg-color};
    --text-color: #{$dark-text-color};
    --border-color: #{$dark-border-color};
    --accent-color: #{$dark-accent-color};
    --secondary-text: #{$dark-secondary-text};
  }

  // Specific adjustments for dark mode

  // Inline code in dark mode
  :not(pre) > code {
    background-color: #1a1a1a;
  }

  // Pre blocks in dark mode
  pre {
    background-color: #0a0a0a;
  }

  // Navigation hover states
  .nav a:hover,
  .pagination-link:hover,
  .taxonomy-item:hover,
  .taxonomy-term:hover,
  .post-nav-prev:hover,
  .post-nav-next:hover,
  .toc-link:hover {
    background-color: var(--accent-color);
    color: var(--bg-color);
  }

  // Ensure borders remain visible
  .site-header,
  .site-footer,
  .list-item,
  .pagination,
  .post-nav {
    border-color: var(--border-color);
  }

  // ASCII boxes and diagrams
  .ascii-box,
  .ascii-diagram,
  .toc,
  .callout {
    border-color: var(--border-color);
  }

  // Tables
  th, td {
    border-color: var(--border-color);
  }

  // Improved contrast for secondary text
  .article-meta,
  .list-item-meta,
  .footer-content {
    color: var(--secondary-text);
  }
}

// Optional: Force dark mode class (for manual toggle in future)
.dark-mode {
  --bg-color: #{$dark-bg-color};
  --text-color: #{$dark-text-color};
  --border-color: #{$dark-border-color};
  --accent-color: #{$dark-accent-color};
  --secondary-text: #{$dark-secondary-text};

  :not(pre) > code {
    background-color: #1a1a1a;
  }

  pre {
    background-color: #0a0a0a;
  }
}

// Optional: Force light mode class (for manual toggle in future)
.light-mode {
  --bg-color: #{$light-bg-color};
  --text-color: #{$light-text-color};
  --border-color: #{$light-border-color};
  --accent-color: #{$light-accent-color};
  --secondary-text: #{$light-secondary-text};

  :not(pre) > code {
    background-color: #f5f5f5;
  }

  pre {
    background-color: #ffffff;
  }
}
